<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2020 年面试准备 | JSChen</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="dns-prefetch" href="//blog.jschen.cc">
  <link rel="icon" href="/assets/img/LOGO.png" type="image/png">
  <script type="text/javascript" src="/assets/sitemap/baidu.js"></script>
  <link rel="stylesheet" type="text/css" href="/assets/css/app.css">
  <meta name="keywords" content="ccc,jschen,陈程城,vue,前端,web前端,前端基础,bind,apply,call,prototype,tcp/ip,TCP/IP,webpack,nuxt,event-loop,作用域链,执行上下文,js,jschen,javaScript,new,class,es6,new 实质,node,babel,ci/cd,CI/CD,vue源码,前端进阶,">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f48fada0.css" as="style"><link rel="preload" href="/assets/js/app.c2508881.js" as="script"><link rel="preload" href="/assets/js/2.cf1aef41.js" as="script"><link rel="preload" href="/assets/js/23.14b6a967.js" as="script"><link rel="prefetch" href="/assets/js/10.56128c99.js"><link rel="prefetch" href="/assets/js/11.c8b3f272.js"><link rel="prefetch" href="/assets/js/12.4b04cebc.js"><link rel="prefetch" href="/assets/js/13.e5192576.js"><link rel="prefetch" href="/assets/js/14.82cde3ed.js"><link rel="prefetch" href="/assets/js/15.6e3e8fd4.js"><link rel="prefetch" href="/assets/js/16.edd9a16c.js"><link rel="prefetch" href="/assets/js/17.fea4da74.js"><link rel="prefetch" href="/assets/js/18.c27a81b3.js"><link rel="prefetch" href="/assets/js/19.4d0e4e25.js"><link rel="prefetch" href="/assets/js/20.d3d58085.js"><link rel="prefetch" href="/assets/js/21.a494675f.js"><link rel="prefetch" href="/assets/js/22.a8057eda.js"><link rel="prefetch" href="/assets/js/24.d09b1656.js"><link rel="prefetch" href="/assets/js/25.58dfcb2d.js"><link rel="prefetch" href="/assets/js/26.6c359997.js"><link rel="prefetch" href="/assets/js/27.36c46610.js"><link rel="prefetch" href="/assets/js/28.b4a4095e.js"><link rel="prefetch" href="/assets/js/29.e7164acd.js"><link rel="prefetch" href="/assets/js/3.95b1062e.js"><link rel="prefetch" href="/assets/js/30.425b18bf.js"><link rel="prefetch" href="/assets/js/31.bfb69108.js"><link rel="prefetch" href="/assets/js/32.cb4ee37d.js"><link rel="prefetch" href="/assets/js/33.a36f6ded.js"><link rel="prefetch" href="/assets/js/34.8e75078d.js"><link rel="prefetch" href="/assets/js/35.4b368081.js"><link rel="prefetch" href="/assets/js/36.1b0e1f3b.js"><link rel="prefetch" href="/assets/js/37.30df97f4.js"><link rel="prefetch" href="/assets/js/38.58842bbf.js"><link rel="prefetch" href="/assets/js/39.1841efd2.js"><link rel="prefetch" href="/assets/js/4.c3f9504b.js"><link rel="prefetch" href="/assets/js/40.144e05fd.js"><link rel="prefetch" href="/assets/js/41.dfbe55dd.js"><link rel="prefetch" href="/assets/js/42.fcc3627f.js"><link rel="prefetch" href="/assets/js/43.a0b63a40.js"><link rel="prefetch" href="/assets/js/44.0fbecdce.js"><link rel="prefetch" href="/assets/js/45.7dc4360a.js"><link rel="prefetch" href="/assets/js/46.112e4475.js"><link rel="prefetch" href="/assets/js/47.fda8fe3f.js"><link rel="prefetch" href="/assets/js/48.3745fc99.js"><link rel="prefetch" href="/assets/js/49.4df3b896.js"><link rel="prefetch" href="/assets/js/5.abc82d58.js"><link rel="prefetch" href="/assets/js/50.08ccde73.js"><link rel="prefetch" href="/assets/js/51.e75b1bc7.js"><link rel="prefetch" href="/assets/js/52.676ed932.js"><link rel="prefetch" href="/assets/js/53.fff552bc.js"><link rel="prefetch" href="/assets/js/54.4981adaf.js"><link rel="prefetch" href="/assets/js/55.6f270dd6.js"><link rel="prefetch" href="/assets/js/56.ed45f328.js"><link rel="prefetch" href="/assets/js/57.f01b8ee4.js"><link rel="prefetch" href="/assets/js/58.034f4cf3.js"><link rel="prefetch" href="/assets/js/59.f567a814.js"><link rel="prefetch" href="/assets/js/6.6c659510.js"><link rel="prefetch" href="/assets/js/60.f27e8593.js"><link rel="prefetch" href="/assets/js/61.0e18e3e1.js"><link rel="prefetch" href="/assets/js/7.b7348597.js"><link rel="prefetch" href="/assets/js/8.8f481eb9.js"><link rel="prefetch" href="/assets/js/9.88b2a566.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f48fada0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/LOGO.png" alt="JSChen" class="logo"> <span class="site-name can-hide">JSChen</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术提升" class="dropdown-title"><span class="title">技术提升</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端进阶之路
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/architect/base/" class="nav-link">
  javaScript基础
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/node/" class="nav-link">
  node
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/engineering/" class="nav-link">
  前端工程化
</a></li></ul></li><li class="dropdown-item"><h4>
          运维小兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/ops/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/docker/" class="nav-link">
  docker
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/included/" class="nav-link">
  面试题收录
</a></li><li class="dropdown-item"><!----> <a href="/pages/interview/plan/4-8/" class="nav-link">
  面试准备
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/essay/" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/pages/saying/" class="nav-link">
  名言小课堂
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/" class="nav-link">
  关于
</a></li><li class="dropdown-item"><!----> <a href="/pages/pdf/" class="nav-link">
  收藏书籍
</a></li><li class="dropdown-item"><!----> <a href="/pages/blogroll/" class="nav-link">
  友情链接
</a></li><li class="dropdown-item"><!----> <a href="/pages/story/" class="nav-link">
  故事
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/guestccc/guestccc.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术提升" class="dropdown-title"><span class="title">技术提升</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端进阶之路
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/architect/base/" class="nav-link">
  javaScript基础
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/node/" class="nav-link">
  node
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/engineering/" class="nav-link">
  前端工程化
</a></li></ul></li><li class="dropdown-item"><h4>
          运维小兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/ops/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/docker/" class="nav-link">
  docker
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/included/" class="nav-link">
  面试题收录
</a></li><li class="dropdown-item"><!----> <a href="/pages/interview/plan/4-8/" class="nav-link">
  面试准备
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/essay/" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/pages/saying/" class="nav-link">
  名言小课堂
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/" class="nav-link">
  关于
</a></li><li class="dropdown-item"><!----> <a href="/pages/pdf/" class="nav-link">
  收藏书籍
</a></li><li class="dropdown-item"><!----> <a href="/pages/blogroll/" class="nav-link">
  友情链接
</a></li><li class="dropdown-item"><!----> <a href="/pages/story/" class="nav-link">
  故事
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/guestccc/guestccc.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>简历</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/interview/plan/4-8.html" class="active sidebar-link">2020 年面试准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#css" class="sidebar-link">css</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#bfc-块级格式化上下文" class="sidebar-link">BFC 块级格式化上下文</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#层叠上下文-stacking-context" class="sidebar-link">层叠上下文 stacking context</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#网格布局-grid" class="sidebar-link">网格布局 grid</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#盒模型" class="sidebar-link">盒模型</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#弹性布局-flex" class="sidebar-link">弹性布局 flex</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#containing-block-包含块" class="sidebar-link">containing block 包含块</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#选择器" class="sidebar-link">选择器</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#清除浮动" class="sidebar-link">清除浮动</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#动画" class="sidebar-link">动画</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#bem-命名规范" class="sidebar-link">BEM 命名规范</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#html" class="sidebar-link">html</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#语义化" class="sidebar-link">语义化</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#dom-操作" class="sidebar-link">dom 操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#js" class="sidebar-link">js</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#模块化" class="sidebar-link">模块化</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#原型链" class="sidebar-link">原型链</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#执行栈" class="sidebar-link">执行栈</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#作用域链" class="sidebar-link">作用域链</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#this" class="sidebar-link">this</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#new-模拟实现" class="sidebar-link">new 模拟实现</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#apply-cell-bind" class="sidebar-link">apply,cell,bind</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#event-loop" class="sidebar-link">event-loop</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#cookie-localstorage-sessionstorage-indexdb" class="sidebar-link">cookie localStorage sessionStorage indexDB</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#service-worker" class="sidebar-link">Service Worker</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#react-vue-的区别" class="sidebar-link">react vue 的区别</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#webpack-的生命周期" class="sidebar-link">webpack 的生命周期</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#webpack-的-loader-和-plugin-阶段那个更耗时" class="sidebar-link">webpack 的 loader 和 plugin 阶段那个更耗时</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#如何用-var-实现-let-const" class="sidebar-link">如何用 var 实现 let const</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#防抖-节流" class="sidebar-link">防抖 节流</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#promise" class="sidebar-link">promise</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#proxy" class="sidebar-link">Proxy</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#垃圾回收" class="sidebar-link">垃圾回收</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#设计模式" class="sidebar-link">设计模式</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#" class="sidebar-link"></a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#vue" class="sidebar-link">vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#响应式原理" class="sidebar-link">响应式原理</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#路由" class="sidebar-link">路由</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#nuxt" class="sidebar-link">nuxt</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#tcp-ip" class="sidebar-link">tcp/ip</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#http-缓存类型-ssl-加密" class="sidebar-link">http 缓存类型 ssl 加密</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#http-和-https-的区别" class="sidebar-link">http 和 https 的区别</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#https-配置安全证书-ssl-流程" class="sidebar-link">https 配置安全证书 ssl 流程</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#从输入-url-到页面加载发生了什么" class="sidebar-link">从输入 URL 到页面加载发生了什么</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#跨域" class="sidebar-link">跨域</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#node" class="sidebar-link">node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#cors" class="sidebar-link">cors</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#webpack" class="sidebar-link">webpack</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#ci-cd" class="sidebar-link">CI/CD</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#测试" class="sidebar-link">测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#单元测试" class="sidebar-link">单元测试</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#端对端测试" class="sidebar-link">端对端测试</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#性能优化" class="sidebar-link">性能优化</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#安全" class="sidebar-link">安全</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#如何封装树状菜单" class="sidebar-link">如何封装树状菜单</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#封装继承多态" class="sidebar-link">封装继承多态</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#同源策略，跨域规避方案" class="sidebar-link">同源策略，跨域规避方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#一、一级域名相同-拿-cookie" class="sidebar-link">一、一级域名相同 -- 拿 cookie</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#二、-一级域名相同-内嵌-iframe-拿-dom" class="sidebar-link">二、 一级域名相同 -- 内嵌 iframe -- 拿 DOM</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#三、-postmessage" class="sidebar-link">三、 postMessage</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/4-8.html#四、ajax-请求-jsonp-，-websocket-，-cors" class="sidebar-link">四、ajax 请求 jsonp ， websocket ， cors</a></li></ul></li></ul></li><li><a href="/pages/interview/plan/" class="sidebar-link">plan</a></li><li><a href="/pages/interview/plan/pen.html" class="sidebar-link">笔试题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>markdown</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2020-年面试准备"><a href="#_2020-年面试准备" class="header-anchor">#</a> 2020 年面试准备</h1> <h2 id="css"><a href="#css" class="header-anchor">#</a> css</h2> <h3 id="bfc-块级格式化上下文"><a href="#bfc-块级格式化上下文" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#bfc-块级格式化上下文">BFC 块级格式化上下文</a></h3> <h3 id="层叠上下文-stacking-context"><a href="#层叠上下文-stacking-context" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#层叠上下文-stacking-context">层叠上下文 stacking context</a></h3> <h3 id="网格布局-grid"><a href="#网格布局-grid" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#网格布局-grid-不常用">网格布局 grid</a></h3> <h3 id="盒模型"><a href="#盒模型" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#盒模型">盒模型</a></h3> <h3 id="弹性布局-flex"><a href="#弹性布局-flex" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#弹性布局-flex">弹性布局 flex</a></h3> <h3 id="containing-block-包含块"><a href="#containing-block-包含块" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#containing-block-包含块">containing block 包含块</a></h3> <h3 id="选择器"><a href="#选择器" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#选择器">选择器</a></h3> <h3 id="清除浮动"><a href="#清除浮动" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#清除浮动">清除浮动</a></h3> <h3 id="动画"><a href="#动画" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#动画">动画</a></h3> <h3 id="bem-命名规范"><a href="#bem-命名规范" class="header-anchor">#</a> <a href="/pages/technology/architect/base/css.html#bem-命名规范">BEM 命名规范</a></h3> <h2 id="html"><a href="#html" class="header-anchor">#</a> html</h2> <h3 id="语义化"><a href="#语义化" class="header-anchor">#</a> <a href="/pages/technology/architect/base/html.html#语义化">语义化</a></h3> <h3 id="属性"><a href="#属性" class="header-anchor">#</a> <a href="/pages/technology/architect/base/html.html#属性">属性</a></h3> <h3 id="dom-操作"><a href="#dom-操作" class="header-anchor">#</a> <a href="/pages/technology/architect/base/html.html#dom-操作">dom 操作</a></h3> <h2 id="js"><a href="#js" class="header-anchor">#</a> js</h2> <h3 id="模块化"><a href="#模块化" class="header-anchor">#</a> <a href="/pages/technology/architect/base/export.html#模块化">模块化</a></h3> <h3 id="原型链"><a href="#原型链" class="header-anchor">#</a> <a href="/pages/technology/architect/base/#原型链">原型链</a></h3> <h3 id="执行栈"><a href="#执行栈" class="header-anchor">#</a> <a href="/pages/technology/architect/base/execution_scope.html#变量对象和活动对象">执行栈</a></h3> <h3 id="作用域链"><a href="#作用域链" class="header-anchor">#</a> <a href="/pages/technology/architect/base/execution_scope.html#作用域链">作用域链</a></h3> <h3 id="闭包"><a href="#闭包" class="header-anchor">#</a> <a href="/pages/technology/architect/base/execution_scope.html#闭包">闭包</a></h3> <h3 id="this"><a href="#this" class="header-anchor">#</a> <a href="/pages/technology/architect/base/this.html#this">this</a></h3> <h3 id="new-模拟实现"><a href="#new-模拟实现" class="header-anchor">#</a> <a href="/pages/technology/architect/base/new.html#new-实现">new 模拟实现</a></h3> <h3 id="apply-cell-bind"><a href="#apply-cell-bind" class="header-anchor">#</a> <a href="/pages/technology/architect/base/apply_call_bind.html#apply-模拟实现">apply,cell,bind</a></h3> <h3 id="event-loop"><a href="#event-loop" class="header-anchor">#</a> <a href="/pages/technology/architect/base/event-loop.html#进程">event-loop</a></h3> <h3 id="cookie-localstorage-sessionstorage-indexdb"><a href="#cookie-localstorage-sessionstorage-indexdb" class="header-anchor">#</a> cookie localStorage sessionStorage indexDB</h3> <table><thead><tr><th>特性</th> <th>cookie</th> <th>localStorage</th> <th>sessionStorage</th> <th>indexDB</th></tr></thead> <tbody><tr><td>数据生命周期</td> <td>一般由服务器生成，可以设置过期时间</td> <td>除非被清理，否则一直存在</td> <td>页面关闭就清理</td> <td>除非被清理，否则一直存在</td></tr> <tr><td>数据存储大小</td> <td>4K</td> <td>5M</td> <td>5M</td> <td>无限</td></tr> <tr><td>与服务端通信</td> <td>每次都会携带在 header 中，对于请求性能影响</td> <td>不参与</td> <td>不参与</td> <td>不参与</td></tr></tbody></table> <h3 id="service-worker"><a href="#service-worker" class="header-anchor">#</a> Service Worker</h3> <p>用于浏览器缓存，vue 文档就有用</p> <p>具体看这篇博文<a href="https://www.yuchengkai.cn/docs/frontend/browser.html#service-worker" target="_blank" rel="noopener noreferrer">前端进阶之道<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="react-vue-的区别"><a href="#react-vue-的区别" class="header-anchor">#</a> react vue 的区别</h3> <h3 id="webpack-的生命周期"><a href="#webpack-的生命周期" class="header-anchor">#</a> webpack 的生命周期</h3> <h3 id="webpack-的-loader-和-plugin-阶段那个更耗时"><a href="#webpack-的-loader-和-plugin-阶段那个更耗时" class="header-anchor">#</a> webpack 的 loader 和 plugin 阶段那个更耗时</h3> <h3 id="如何用-var-实现-let-const"><a href="#如何用-var-实现-let-const" class="header-anchor">#</a> 如何用 var 实现 let const</h3> <h3 id="防抖-节流"><a href="#防抖-节流" class="header-anchor">#</a> <a href="/pages/technology/architect/base/fp.html#一、防抖">防抖 节流</a></h3> <h3 id="promise"><a href="#promise" class="header-anchor">#</a> <a href="/pages/technology/architect/base/es6.html#decorator">promise</a></h3> <h3 id="proxy"><a href="#proxy" class="header-anchor">#</a> <a href="/pages/technology/architect/base/es6.html#proxy">Proxy</a></h3> <h3 id="垃圾回收"><a href="#垃圾回收" class="header-anchor">#</a> 垃圾回收</h3> <p>v8 采用的是标记清除算法和标记压缩算法</p> <p>v8 将内存（堆）分为新生代和老生代两部分</p> <h3 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h3> <h4 id="工厂模式"><a href="#工厂模式" class="header-anchor">#</a> 工厂模式</h4> <h4 id="单例模式"><a href="#单例模式" class="header-anchor">#</a> 单例模式</h4> <h4 id="发布订阅"><a href="#发布订阅" class="header-anchor">#</a> 发布订阅</h4> <h4 id="代理模式"><a href="#代理模式" class="header-anchor">#</a> 代理模式</h4> <h3 id=""><a href="#" class="header-anchor">#</a></h3> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> vue</h2> <h3 id="响应式原理"><a href="#响应式原理" class="header-anchor">#</a> <a href="/pages/technology/architect/vue/#vue">响应式原理</a></h3> <h3 id="路由"><a href="#路由" class="header-anchor">#</a> <a href="/pages/technology/architect/vue/#路由">路由</a></h3> <h4 id="abstract"><a href="#abstract" class="header-anchor">#</a> <a href="/pages/technology/architect/vue/#abstract">abstract</a></h4> <h2 id="nuxt"><a href="#nuxt" class="header-anchor">#</a> <a href="/pages/technology/architect/vue/nuxt.html">nuxt</a></h2> <h2 id="tcp-ip"><a href="#tcp-ip" class="header-anchor">#</a> tcp/ip</h2> <h3 id="状态码"><a href="#状态码" class="header-anchor">#</a> 状态码</h3> <h4 id="永久重定向和临时重定向的区别"><a href="#永久重定向和临时重定向的区别" class="header-anchor">#</a> 永久重定向和临时重定向的区别</h4> <p>301 永久
302 临时
304 未修改，直接拿缓存</p> <p>401 未授权
404 找不到
412 未满足前提条件</p> <p>500 服务端错误</p> <h3 id="http-缓存类型-ssl-加密"><a href="#http-缓存类型-ssl-加密" class="header-anchor">#</a> http 缓存类型 ssl 加密</h3> <h3 id="http-和-https-的区别"><a href="#http-和-https-的区别" class="header-anchor">#</a> http 和 https 的区别</h3> <p>node 服务器实现 http2</p> <p>拉一个 node-http2 模块</p> <div class="language-js extra-class"><pre class="language-js"><code></code></pre></div><h3 id="https-配置安全证书-ssl-流程"><a href="#https-配置安全证书-ssl-流程" class="header-anchor">#</a> https 配置安全证书 ssl 流程</h3> <p>首先介绍一下两个端口， 一个是 80 端口，一个是 443 端口</p> <p>443 ： 网页浏览端口，主要是用于 HTTPS 服务，是提供加密和通过安全端口传输的另一种 HTTP。</p> <p>80 ： 用于网页浏览。木马 Executor 开放此端口</p> <h4 id="用-node-做服务端，配置-ssl-流程"><a href="#用-node-做服务端，配置-ssl-流程" class="header-anchor">#</a> 用 node 做服务端，配置 ssl 流程</h4> <ol><li>到阿里云申请 ssl 证书</li> <li>下载 ssl 证书 nginx 版就可以，key 文件和 pem 文件</li> <li>node 创建 https 文件，放入 key 文件和 pem 文件</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token comment">// Configuare https</span>
<span class="token keyword">const</span> httpsOption <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./https/xxxxxxxxxxxx.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  cert<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./https/xxxxxxxxxxxx.pem'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Create service</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>
https<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>httpsOption<span class="token punctuation">,</span> app<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">443</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="从输入-url-到页面加载发生了什么"><a href="#从输入-url-到页面加载发生了什么" class="header-anchor">#</a> <a href="https://segmentfault.com/a/1190000006879700" target="_blank" rel="noopener noreferrer">从输入 URL 到页面加载发生了什么<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li>重定向</li> <li>拉取缓存</li> <li>DNS 查询</li> <li>建立 TCP 链接</li> <li>发起请求</li> <li>接收响应</li> <li>处理 HTML 元素</li> <li>元素加载完成</li></ul> <h3 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h3> <h2 id="node"><a href="#node" class="header-anchor">#</a> node</h2> <h3 id="cors"><a href="#cors" class="header-anchor">#</a> cors</h3> <p>node 设置 cors</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Methods'</span><span class="token punctuation">,</span> <span class="token string">'GET,PUT,POST,DELETE,OPTION'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">'content-type,Origin,Accept,X-Requested-with,Access-Control-Allow-Credentials'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Credentials'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'OPTION'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h2> <h2 id="ci-cd"><a href="#ci-cd" class="header-anchor">#</a> CI/CD</h2> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <h3 id="单元测试"><a href="#单元测试" class="header-anchor">#</a> 单元测试</h3> <h3 id="端对端测试"><a href="#端对端测试" class="header-anchor">#</a> 端对端测试</h3> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <ul><li><p>window.serviceWorker 缓存文件</p></li> <li><p>越是具体的 CSS 选择器，执行速度越慢</p></li> <li><p>频繁的单独生成图层</p> <ul><li>3D 变换：translate3d、translateZ</li> <li>will-change</li> <li>video、iframe 标签</li> <li>通过动画实现的 opacity 动画转换</li> <li>position: fixed</li></ul></li> <li><p>减少重绘和回流<a href="https://www.yuchengkai.cn/docs/frontend/browser.html#%E5%87%8F%E5%B0%91%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81" target="_blank" rel="noopener noreferrer">前端进阶之道<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>DNS 预解析<a href="https://developer.mozilla.org/zh-CN/docs/Controlling_DNS_prefetching" target="_blank" rel="noopener noreferrer">MDN  X-DNS-Prefetch-Control<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>强缓存和协商缓存</p></li> <li><p>http2.0</p></li> <li><p>webpack 设置 tree shaking 移除没有用的代码</p></li></ul> <h2 id="安全"><a href="#安全" class="header-anchor">#</a> 安全</h2> <h2 id="如何封装树状菜单"><a href="#如何封装树状菜单" class="header-anchor">#</a> 如何封装树状菜单</h2> <h2 id="封装继承多态"><a href="#封装继承多态" class="header-anchor">#</a> 封装继承多态</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">9</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> b <span class="token operator">+</span> a<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><h2 id="同源策略，跨域规避方案"><a href="#同源策略，跨域规避方案" class="header-anchor">#</a> 同源策略，跨域规避方案</h2> <h3 id="一、一级域名相同-拿-cookie"><a href="#一、一级域名相同-拿-cookie" class="header-anchor">#</a> 一、一级域名相同 -- 拿 <code>cookie</code></h3> <p><code>A</code> 网页 <code>https://xiaoai.dankal.cn</code> ， <code>B</code> 网页 <code>https://xiaoai-admin.dankal.cn</code> ， <code>C</code> 网页 <code>https://dankal.cn</code> ， <code>AB</code> 网页都是二级域名 ， <code>C</code> 网页是顶级域名</p> <p>3 个分别窗口访问 <code>A</code> 、 <code>B</code> 、 <code>C</code> ， 或者 互相嵌入 <code>iframe</code></p> <p>通过设置 <code>cookie</code> 规避跨域</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在任意页面</span>
document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">&quot;test=i'm test cookie;domain=dankal.cn&quot;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在任意页面</span>
document<span class="token punctuation">.</span>cookie
<span class="token comment">// test=i'm test cookie</span>
</code></pre></div><h3 id="二、-一级域名相同-内嵌-iframe-拿-dom"><a href="#二、-一级域名相同-内嵌-iframe-拿-dom" class="header-anchor">#</a> 二、 一级域名相同 -- 内嵌 <code>iframe</code> -- 拿 <code>DOM</code></h3> <p><code>A</code> 网页 <code>https://xiaoai.dankal.cn</code> ， <code>iframe</code> 页面 <code>https://xiaoai-admin.dankal.cn</code> ，</p> <p>设置 <code>A</code> 页面和 <code>iframe</code> 页面的 <code>domain</code> 为顶级域名 <code>dankal.cn</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  `A` 页面和 `iframe` 页面</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'dankal.cn'</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// `A` 页面</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframeId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document
<span class="token comment">// # document</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// iframe 页面</span>
window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>document
<span class="token comment">// # document</span>
</code></pre></div><h3 id="三、-postmessage"><a href="#三、-postmessage" class="header-anchor">#</a> 三、 postMessage</h3> <p>父亲向子发消息</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父窗口</span>
<span class="token keyword">var</span> jschenP <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.cn'</span><span class="token punctuation">)</span>
jschenP<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello baidu'</span><span class="token punctuation">,</span> <span class="token string">'https://www.baidu.cn'</span><span class="token punctuation">)</span>

<span class="token comment">// 百度</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// 消息内容</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span> <span class="token comment">// 发消息的网站</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>source<span class="token punctuation">)</span> <span class="token comment">// 发消息的窗口</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>子向父亲发消息</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父窗口 https://blog.jschen.cc</span>
<span class="token keyword">var</span> jschenP <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.cn'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// 消息内容</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span> <span class="token comment">// 发消息的网站</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>source<span class="token punctuation">)</span> <span class="token comment">// 发消息的窗口</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 百度</span>
window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello father'</span><span class="token punctuation">,</span> <span class="token string">'https://blog.jschen.cc'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="四、ajax-请求-jsonp-，-websocket-，-cors"><a href="#四、ajax-请求-jsonp-，-websocket-，-cors" class="header-anchor">#</a> 四、ajax 请求 jsonp ， websocket ， cors</h3> <h4 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> jsonp</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'成功拿到数据了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getApi</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">getApi</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.com?callback=foo'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="websocket"><a href="#websocket" class="header-anchor">#</a> webSocket</h4> <p>使用 ws wss 协议标识符，在 tcp 协议上进行全双工通讯</p> <p>这里偷偷摘了阮一峰老师<a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener noreferrer">WebSocket<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的 wss 地址</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'wss://echo.websocket.org'</span><span class="token punctuation">)</span>

websocket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection 开了 ...'</span><span class="token punctuation">)</span>
  websocket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello WebSockets!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

websocket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received 接受到的消息: '</span> <span class="token operator">+</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

websocket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection closed.'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

websocket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'我是 JSChen！'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="node-设置-cors"><a href="#node-设置-cors" class="header-anchor">#</a> node 设置 cors</h4> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Methods'</span><span class="token punctuation">,</span> <span class="token string">'GET,POST,PUT,DELETE,OPTION'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">'content-type,Cache-Control,Access-Control-Allow-Credentials'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Credentials'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>methods <span class="token operator">==</span> <span class="token string">'OPTION'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2020/5/30 下午2:06:25</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/interview/plan/" class="router-link-active">
        plan
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c2508881.js" defer></script><script src="/assets/js/2.cf1aef41.js" defer></script><script src="/assets/js/23.14b6a967.js" defer></script>
  </body>
</html>
