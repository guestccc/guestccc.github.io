<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é¢è¯•å‡†å¤‡ | JSChen</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="dns-prefetch" href="//blog.jschen.cc">
  <link rel="icon" href="/assets/img/LOGO.png" type="image/png">
  <script type="text/javascript" src="/assets/sitemap/baidu.js"></script>
  <link rel="stylesheet" type="text/css" href="/assets/css/app.css">
  <meta name="keywords" content="ccc,jschen,é™ˆç¨‹åŸ,vue,å‰ç«¯,webå‰ç«¯,å‰ç«¯åŸºç¡€,bind,apply,call,prototype,tcp/ip,TCP/IP,webpack,nuxt,event-loop,ä½œç”¨åŸŸé“¾,æ‰§è¡Œä¸Šä¸‹æ–‡,js,jschen,javaScript,new,class,es6,new å®è´¨,node,babel,ci/cd,CI/CD,vueæºç ,å‰ç«¯è¿›é˜¶,">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f48fada0.css" as="style"><link rel="preload" href="/assets/js/app.c2508881.js" as="script"><link rel="preload" href="/assets/js/2.cf1aef41.js" as="script"><link rel="preload" href="/assets/js/26.6c359997.js" as="script"><link rel="prefetch" href="/assets/js/10.56128c99.js"><link rel="prefetch" href="/assets/js/11.c8b3f272.js"><link rel="prefetch" href="/assets/js/12.4b04cebc.js"><link rel="prefetch" href="/assets/js/13.e5192576.js"><link rel="prefetch" href="/assets/js/14.82cde3ed.js"><link rel="prefetch" href="/assets/js/15.6e3e8fd4.js"><link rel="prefetch" href="/assets/js/16.edd9a16c.js"><link rel="prefetch" href="/assets/js/17.fea4da74.js"><link rel="prefetch" href="/assets/js/18.c27a81b3.js"><link rel="prefetch" href="/assets/js/19.4d0e4e25.js"><link rel="prefetch" href="/assets/js/20.d3d58085.js"><link rel="prefetch" href="/assets/js/21.a494675f.js"><link rel="prefetch" href="/assets/js/22.a8057eda.js"><link rel="prefetch" href="/assets/js/23.14b6a967.js"><link rel="prefetch" href="/assets/js/24.d09b1656.js"><link rel="prefetch" href="/assets/js/25.58dfcb2d.js"><link rel="prefetch" href="/assets/js/27.36c46610.js"><link rel="prefetch" href="/assets/js/28.b4a4095e.js"><link rel="prefetch" href="/assets/js/29.e7164acd.js"><link rel="prefetch" href="/assets/js/3.95b1062e.js"><link rel="prefetch" href="/assets/js/30.425b18bf.js"><link rel="prefetch" href="/assets/js/31.bfb69108.js"><link rel="prefetch" href="/assets/js/32.cb4ee37d.js"><link rel="prefetch" href="/assets/js/33.a36f6ded.js"><link rel="prefetch" href="/assets/js/34.8e75078d.js"><link rel="prefetch" href="/assets/js/35.4b368081.js"><link rel="prefetch" href="/assets/js/36.1b0e1f3b.js"><link rel="prefetch" href="/assets/js/37.30df97f4.js"><link rel="prefetch" href="/assets/js/38.58842bbf.js"><link rel="prefetch" href="/assets/js/39.1841efd2.js"><link rel="prefetch" href="/assets/js/4.c3f9504b.js"><link rel="prefetch" href="/assets/js/40.144e05fd.js"><link rel="prefetch" href="/assets/js/41.dfbe55dd.js"><link rel="prefetch" href="/assets/js/42.fcc3627f.js"><link rel="prefetch" href="/assets/js/43.a0b63a40.js"><link rel="prefetch" href="/assets/js/44.0fbecdce.js"><link rel="prefetch" href="/assets/js/45.7dc4360a.js"><link rel="prefetch" href="/assets/js/46.112e4475.js"><link rel="prefetch" href="/assets/js/47.fda8fe3f.js"><link rel="prefetch" href="/assets/js/48.3745fc99.js"><link rel="prefetch" href="/assets/js/49.4df3b896.js"><link rel="prefetch" href="/assets/js/5.abc82d58.js"><link rel="prefetch" href="/assets/js/50.08ccde73.js"><link rel="prefetch" href="/assets/js/51.e75b1bc7.js"><link rel="prefetch" href="/assets/js/52.676ed932.js"><link rel="prefetch" href="/assets/js/53.fff552bc.js"><link rel="prefetch" href="/assets/js/54.4981adaf.js"><link rel="prefetch" href="/assets/js/55.6f270dd6.js"><link rel="prefetch" href="/assets/js/56.ed45f328.js"><link rel="prefetch" href="/assets/js/57.f01b8ee4.js"><link rel="prefetch" href="/assets/js/58.034f4cf3.js"><link rel="prefetch" href="/assets/js/59.f567a814.js"><link rel="prefetch" href="/assets/js/6.6c659510.js"><link rel="prefetch" href="/assets/js/60.f27e8593.js"><link rel="prefetch" href="/assets/js/61.0e18e3e1.js"><link rel="prefetch" href="/assets/js/7.b7348597.js"><link rel="prefetch" href="/assets/js/8.8f481eb9.js"><link rel="prefetch" href="/assets/js/9.88b2a566.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f48fada0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/LOGO.png" alt="JSChen" class="logo"> <span class="site-name can-hide">JSChen</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯æå‡" class="dropdown-title"><span class="title">æŠ€æœ¯æå‡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          å‰ç«¯è¿›é˜¶ä¹‹è·¯
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/architect/base/" class="nav-link">
  javaScriptåŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/network/" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/node/" class="nav-link">
  node
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/engineering/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></li></ul></li><li class="dropdown-item"><h4>
          è¿ç»´å°å…´è¶£
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/ops/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/docker/" class="nav-link">
  docker
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><span class="title">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/included/" class="nav-link">
  é¢è¯•é¢˜æ”¶å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/interview/plan/4-8/" class="nav-link">
  é¢è¯•å‡†å¤‡
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/essay/" class="nav-link">
  éšç¬”
</a></li><li class="dropdown-item"><!----> <a href="/pages/saying/" class="nav-link">
  åè¨€å°è¯¾å ‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/" class="nav-link">
  å…³äº
</a></li><li class="dropdown-item"><!----> <a href="/pages/pdf/" class="nav-link">
  æ”¶è—ä¹¦ç±
</a></li><li class="dropdown-item"><!----> <a href="/pages/blogroll/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li><li class="dropdown-item"><!----> <a href="/pages/story/" class="nav-link">
  æ•…äº‹
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/guestccc/guestccc.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯æå‡" class="dropdown-title"><span class="title">æŠ€æœ¯æå‡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          å‰ç«¯è¿›é˜¶ä¹‹è·¯
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/architect/base/" class="nav-link">
  javaScriptåŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/network/" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/node/" class="nav-link">
  node
</a></li><li class="dropdown-subitem"><a href="/pages/technology/architect/engineering/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></li></ul></li><li class="dropdown-item"><h4>
          è¿ç»´å°å…´è¶£
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/technology/ops/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-subitem"><a href="/pages/technology/ops/docker/" class="nav-link">
  docker
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><span class="title">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/included/" class="nav-link">
  é¢è¯•é¢˜æ”¶å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/interview/plan/4-8/" class="nav-link">
  é¢è¯•å‡†å¤‡
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/essay/" class="nav-link">
  éšç¬”
</a></li><li class="dropdown-item"><!----> <a href="/pages/saying/" class="nav-link">
  åè¨€å°è¯¾å ‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/" class="nav-link">
  å…³äº
</a></li><li class="dropdown-item"><!----> <a href="/pages/pdf/" class="nav-link">
  æ”¶è—ä¹¦ç±
</a></li><li class="dropdown-item"><!----> <a href="/pages/blogroll/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li><li class="dropdown-item"><!----> <a href="/pages/story/" class="nav-link">
  æ•…äº‹
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/guestccc/guestccc.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®€å†</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>markdown</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/interview/plan/js-base.html" class="active sidebar-link">é¢è¯•å‡†å¤‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#httpçŠ¶æ€ç " class="sidebar-link">httpçŠ¶æ€ç </a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#è·¨åŸŸ" class="sidebar-link">è·¨åŸŸ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#é™åˆ¶" class="sidebar-link">é™åˆ¶</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ä¸€ã€cookieã€localstorage" class="sidebar-link">ä¸€ã€cookieã€localStorage</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#äºŒ-ajax" class="sidebar-link">äºŒ ajax</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰" class="sidebar-link">æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ä½œç”¨åŸŸ" class="sidebar-link">ä½œç”¨åŸŸ</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ä½œç”¨åŸŸé“¾" class="sidebar-link">ä½œç”¨åŸŸé“¾</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†" class="sidebar-link">æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#é—­åŒ…" class="sidebar-link">é—­åŒ…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ç†è®ºä¸Š" class="sidebar-link">ç†è®ºä¸Š</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#å®è·µä¸Š" class="sidebar-link">å®è·µä¸Š</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#åŸå‹é“¾" class="sidebar-link">åŸå‹é“¾</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#new-å®è´¨" class="sidebar-link">new å®è´¨</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#this" class="sidebar-link">this</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#apply-call-bind" class="sidebar-link">apply call bind</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#call" class="sidebar-link">call</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#apply" class="sidebar-link">apply</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#bind" class="sidebar-link">bind</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#é¢å¯¹å¯¹è±¡" class="sidebar-link">é¢å¯¹å¯¹è±¡</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#å°è£…ã€ç»§æ‰¿ã€å¤šæ€" class="sidebar-link">å°è£…ã€ç»§æ‰¿ã€å¤šæ€</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ä¸€ã€å°è£…" class="sidebar-link">ä¸€ã€å°è£…</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#äºŒã€ç»§æ‰¿" class="sidebar-link">äºŒã€ç»§æ‰¿</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#ç»„åˆå¼ç»§æ‰¿" class="sidebar-link">ç»„åˆå¼ç»§æ‰¿</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼›" class="sidebar-link">æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼›</a></li><li class="sidebar-sub-header"><a href="/pages/interview/plan/js-base.html#httpåè®®-å‰ç«¯å®‰å…¨æœºåˆ¶" class="sidebar-link">HTTPåè®® å‰ç«¯å®‰å…¨æœºåˆ¶</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="é¢è¯•å‡†å¤‡"><a href="#é¢è¯•å‡†å¤‡" class="header-anchor">#</a> é¢è¯•å‡†å¤‡</h1> <h2 id="httpçŠ¶æ€ç "><a href="#httpçŠ¶æ€ç " class="header-anchor">#</a> httpçŠ¶æ€ç </h2> <div class="language- extra-class"><pre class="language-text"><code>200 
204 (æ— å†…å®¹)

301 æ°¸ä¹…é‡å®šå‘

304 æœªä¿®æ”¹

400 æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•

401 è¯·æ±‚ç™»å½•è®¤è¯

404 (æœªæ‰¾åˆ°) æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚

412 æœªæ»¡è¶³è¯·æ±‚è€…è®¾ç½®çš„æ¡ä»¶

500 æœåŠ¡å™¨é”™è¯¯
</code></pre></div><h2 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="header-anchor">#</a> è·¨åŸŸ</h2> <p>æµè§ˆå™¨åŒæºç­–ç•¥</p> <blockquote><p>åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚</p></blockquote> <p>åè®®://åŸŸå:ç«¯å£å·</p> <h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="header-anchor">#</a> é™åˆ¶</h3> <p>ï¼ˆ1ï¼‰ Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–ã€‚</p> <p>ï¼ˆ2ï¼‰ DOM æ— æ³•è·å¾—ã€‚</p> <p>ï¼ˆ3ï¼‰ AJAX è¯·æ±‚ä¸èƒ½å‘é€ã€‚</p> <h3 id="ä¸€ã€cookieã€localstorage"><a href="#ä¸€ã€cookieã€localstorage" class="header-anchor">#</a> ä¸€ã€cookieã€localStorage</h3> <h4 id="_1-ä¸€çº§åŸŸåç›¸åŒ"><a href="#_1-ä¸€çº§åŸŸåç›¸åŒ" class="header-anchor">#</a> 1. ä¸€çº§åŸŸåç›¸åŒ</h4> <ul><li><p>è®¾ç½®document.domain</p> <p>cookieå–å€¼</p> <p>iframeæ‹¿dom</p></li> <li><p>Set-Cookie: key=value; domain=.example.com; path=/</p> <p>æœåŠ¡å™¨è®¾ç½®cookie</p></li></ul> <h4 id="_2-å®Œå…¨è·¨åŸŸ"><a href="#_2-å®Œå…¨è·¨åŸŸ" class="header-anchor">#</a> 2. å®Œå…¨è·¨åŸŸ</h4> <ul><li>ç‰‡æ®µè¯†åˆ«ç¬¦</li></ul> <h1 id=""><a href="#" class="header-anchor">#</a></h1> <ul><li>window.name</li></ul> <p>çª—å£ä»éåŒæºè·³åŒæº</p> <ul><li>window.postMessage</li></ul> <p>a</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'http://bbb.com'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
popup<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">,</span> <span class="token string">'http://bbb.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>b</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

event<span class="token punctuation">.</span>sourceï¼šå‘é€æ¶ˆæ¯çš„çª—å£
event<span class="token punctuation">.</span>origin<span class="token operator">:</span> æ¶ˆæ¯å‘å‘çš„ç½‘å€
event<span class="token punctuation">.</span>data<span class="token operator">:</span> æ¶ˆæ¯å†…å®¹
</code></pre></div><h3 id="äºŒ-ajax"><a href="#äºŒ-ajax" class="header-anchor">#</a> äºŒ ajax</h3> <ul><li>jsonp</li></ul> <p>åªæœ‰getè¯·æ±‚ï¼Œè®¾ç½®å›è°ƒå‡½æ•°ï¼Œæºå¸¦å‡½æ•°å</p> <ul><li><p>WebSocket</p></li> <li><p>CORS</p> <p>è®¾ç½®origin *</p> <p>ç®€å•</p> <p>éç®€å•</p> <p>é»˜è®¤ä¸åˆ°cookie
é™¤éå¼€å¯Credentials</p></li></ul> <p>æ‰€æœ‰å¼•ç”¨ç±»å‹çš„å€¼éƒ½æ˜¯ Object çš„å®ä¾‹</p> <h3 id="æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰"><a href="#æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰" class="header-anchor">#</a> æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰</h3> <p>åœ¨ web ä¸­ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒè¢«è®¤ä¸ºæ˜¯ window</p> <p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒ</p> <p>æ¯ä¸ªç¯å¢ƒéƒ½ä¼šæœ‰ä¸€ä¸ªå˜é‡å¯¹è±¡ æ¯ä¸ªå˜é‡å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä½œç”¨åŸŸé“¾</p> <p>å¦‚æœè¿™ä¸ªç¯å¢ƒæ˜¯å‡½æ•°ï¼Œåˆ™å°†å…¶æ´»åŠ¨å¯¹è±¡(activation object)ä½œä¸ºå˜é‡å¯¹è±¡
æ¯ä¸ªç¯å¢ƒéƒ½</p> <p>å¯ä»¥å‘ä¸Šæœç´¢ä½œç”¨åŸŸé“¾ï¼Œä»¥æŸ¥è¯¢å˜é‡å’Œå‡½æ•°å</p> <p>åŠ é•¿ä½œç”¨åŸŸï¼Œtry-catch ä¸­çš„ catchã€ with è¯­å¥
è¿™ä¸¤ä¸ªè¯­å¥éƒ½ä¼šåœ¨ä½œç”¨åŸŸé“¾çš„å‰ç«¯æ·»åŠ ä¸€ä¸ªå˜é‡å¯¹è±¡</p> <h4 id="å˜é‡å¯¹è±¡-æ´»åŠ¨å¯¹è±¡"><a href="#å˜é‡å¯¹è±¡-æ´»åŠ¨å¯¹è±¡" class="header-anchor">#</a> å˜é‡å¯¹è±¡ æ´»åŠ¨å¯¹è±¡</h4> <p><a href="">çº¢å®ä¹¦ï¼ˆp73ï¼‰</a>ï¼šæ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ª ä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡(variable object)ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚</p> <blockquote><p>ä¹Ÿå°±æ˜¯è¯´å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°å£°æ˜ï¼Œéƒ½åœ¨è¿™ä¸ªå˜é‡å¯¹è±¡ä¸­</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token constant">VO</span><span class="token operator">:</span><span class="token punctuation">{</span>
      agruments<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        length
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      a<span class="token operator">:</span>uninit<span class="token punctuation">,</span><span class="token comment">//let const</span>
      b<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token comment">//var</span>
      c<span class="token operator">:</span>reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token comment">//function</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><table><thead><tr><th>å˜é‡</th> <th>å£°æ˜æ–¹å¼</th> <th>vo çŠ¶æ€</th> <th>è§£é‡Š</th></tr></thead> <tbody><tr><td>agruments</td> <td>--</td> <td>å·²ç»åˆå§‹åŒ– æœ‰å€¼/undefined</td> <td>æœ‰ä¼ å°±æœ‰ï¼Œæ²¡æœ‰å°±æ˜¯undefined</td></tr> <tr><td>a</td> <td>letã€const</td> <td>uninit</td> <td>æœªåˆå§‹åŒ–</td></tr> <tr><td>b</td> <td>var</td> <td>undefined</td> <td>å·²ç»åˆå§‹åŒ–ï¼Œæ˜¯ä¸ª undefined</td></tr> <tr><td>c</td> <td>function</td> <td>reference to function c(){}</td> <td>å·²ç»æ‹¿åˆ°è¿™ä¸ªå‡½æ•°çš„å¼•ç”¨</td></tr></tbody></table> <h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="header-anchor">#</a> ä½œç”¨åŸŸ</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">function</span> <span class="token function">c</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>s
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> fooå®šä¹‰ï¼Œä¿å­˜çˆ¶çº§<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä½œç”¨åŸŸé“¾</span><span class="token template-punctuation string">`</span></span>ç»™ å‡½æ•° çš„<span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span>å±æ€§
foo<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
<span class="token punctuation">]</span>

<span class="token number">2.</span> æ‰§è¡Œä¸Šä¸‹æ–‡ å…¥ æ ˆ
<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fooContext<span class="token punctuation">)</span>

<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>foo execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token number">3.</span> å¤åˆ¶ä½œç”¨åŸŸé“¾

<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>foo execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>scope chain<span class="token operator">&gt;</span><span class="token operator">:</span>foo<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">//[globalContext.VO]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token number">4.</span> åˆ›å»ºæ´»åŠ¨å¯¹è±¡
<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>foo execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token constant">AO</span><span class="token operator">:</span><span class="token punctuation">{</span>
      agruments<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        length
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      a<span class="token operator">:</span>uninit<span class="token punctuation">,</span><span class="token comment">//let const</span>
      b<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token comment">//var</span>
      c<span class="token operator">:</span>reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token comment">//function</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">&lt;</span>scope chain<span class="token operator">&gt;</span><span class="token operator">:</span>foo<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">//[globalContext.VO]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token number">5.</span> ç»™å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œå‹å…¥å½“å‰æ´»åŠ¨å¯¹è±¡
<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>foo execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token constant">AO</span><span class="token operator">:</span><span class="token punctuation">{</span>
      agruments<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        length
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      a<span class="token operator">:</span>uninit<span class="token punctuation">,</span><span class="token comment">//let const</span>
      b<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token comment">//var</span>
      c<span class="token operator">:</span>reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token comment">//function</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">&lt;</span>scope chain<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      fooContext<span class="token punctuation">.</span><span class="token constant">AO</span><span class="token punctuation">,</span>
      globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token number">6.</span> å¼€å§‹æ‰§è¡Œï¼Œä¿®æ”¹æ´»åŠ¨å¯¹è±¡ğŸ¡å±æ€§
<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>foo execution context<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token constant">AO</span><span class="token operator">:</span><span class="token punctuation">{</span>
      agruments<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        length
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//let const</span>
      b<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//var</span>
      c<span class="token operator">:</span>reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token comment">//function</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">&lt;</span>scope chain<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      fooContext<span class="token punctuation">.</span><span class="token constant">AO</span><span class="token punctuation">,</span>
      globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token number">7.</span> cå®šä¹‰ï¼Œä¿å­˜çˆ¶çº§ä½œç”¨åŸŸé“¾ç»™ cå‡½æ•° çš„<span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span>å±æ€§
c<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  fooContext<span class="token punctuation">.</span><span class="token constant">AO</span><span class="token punctuation">,</span>
  globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
<span class="token punctuation">]</span>

<span class="token number">8.</span> fooæ‰§è¡Œä¸Šä¸‹æ–‡å‡ºæ ˆ
<span class="token operator">&lt;</span>execution context stock<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>global execution context<span class="token operator">&gt;</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="header-anchor">#</a> ä½œç”¨åŸŸé“¾</h2> <p>ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨</p> <h2 id="æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†"><a href="#æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†" class="header-anchor">#</a> æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†</h2> <blockquote><p>ä½œç”¨åŸŸé“¾ï¼Œæ ¹æ®ä¹¦å†™é¡ºåº(å‡½æ•°å®šä¹‰é¡ºåº)</p></blockquote> <blockquote><p>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ ¹æ®æ‰§è¡Œé¡ºåº</p></blockquote> <ol><li>ğŸŒ°</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">c</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

ä½œç”¨åŸŸï¼š
a<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">]</span>
b<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'b scope'</span><span class="token punctuation">]</span>
b<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'c scope'</span><span class="token punctuation">]</span>
æ‰§è¡Œæ ˆï¼š
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec global'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec a'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec b'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec c'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>ğŸŒ°ğŸŒ°</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> aa <span class="token operator">=</span> <span class="token string">'global'</span>
<span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> aa <span class="token operator">=</span> <span class="token string">'aa'</span>
  <span class="token keyword">function</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span> <span class="token comment">//aa</span>
    <span class="token keyword">function</span> <span class="token function">c</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

ä½œç”¨åŸŸï¼š
global<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">]</span>
a<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
b<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token string">'b scope'</span><span class="token punctuation">]</span>
c<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token string">'b scope'</span><span class="token punctuation">,</span><span class="token string">'c scope'</span><span class="token punctuation">]</span>

æ‰§è¡Œæ ˆï¼š
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec global'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec a'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec b'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec c'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>return çš„æ˜¯æ‰§è¡Œåçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆæ‰§è¡Œï¼Œå† returnï¼Œå…ˆå…¥æ ˆï¼Œå…¥å®Œå†å‡º</p></blockquote> <ol start="3"><li>ğŸŒ°ğŸŒ°ğŸŒ°</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> aa <span class="token operator">=</span> <span class="token string">'global'</span>
<span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> aa <span class="token operator">=</span> <span class="token string">'aa'</span>
  <span class="token keyword">function</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span> <span class="token comment">//aa</span>
    <span class="token keyword">function</span> <span class="token function">c</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> c
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> b
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

ä½œç”¨åŸŸï¼š
global<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">]</span>
a<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
b<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token string">'b scope'</span><span class="token punctuation">]</span>
c<span class="token punctuation">[</span><span class="token string">'global scope'</span><span class="token punctuation">,</span><span class="token string">'a scope'</span><span class="token punctuation">,</span><span class="token string">'b scope'</span><span class="token punctuation">,</span><span class="token string">'c scope'</span><span class="token punctuation">]</span>

æ‰§è¡Œæ ˆï¼š
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec global'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec a'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec b'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'ec c'</span><span class="token punctuation">)</span>
<span class="token constant">ECS</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="header-anchor">#</a> é—­åŒ…</h2> <p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ª å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°</p> <p>mdnï¼š é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚</p> <h3 id="ç†è®ºä¸Š"><a href="#ç†è®ºä¸Š" class="header-anchor">#</a> ç†è®ºä¸Š</h3> <p>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ä¸­å°±è®²åˆ°ï¼šä»æŠ€æœ¯çš„è§’åº¦è®²ï¼Œæ‰€æœ‰çš„JavaScriptå‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚</p> <p>é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡</p> <blockquote><p>è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ã€‚</p></blockquote> <p>ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„å‡½æ•°ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†ã€‚å“ªæ€•æ˜¯ç®€å•çš„å…¨å±€å˜é‡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨æœ€å¤–å±‚çš„ä½œç”¨åŸŸã€‚</p> <h3 id="å®è·µä¸Š"><a href="#å®è·µä¸Š" class="header-anchor">#</a> å®è·µä¸Š</h3> <p>ECMAScriptä¸­ï¼Œé—­åŒ…æŒ‡çš„æ˜¯ï¼š</p> <p>ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼š</p> <p>å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰
åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡</p> <h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="header-anchor">#</a> åŸå‹é“¾</h2> <h2 id="new-å®è´¨"><a href="#new-å®è´¨" class="header-anchor">#</a> new å®è´¨</h2> <p>å››éƒ¨æ›²</p> <ol><li>åˆ›å»ºä¸€ä¸ªå¯¹è±¡ x</li> <li>x.<em>proto</em> æŒ‡å‘ class.prototype</li> <li>æŒ‡å®š this</li> <li>å¦‚æœå‡½æ•°æœ‰åŸºæœ¬ç±»å‹çš„è¿”å›å€¼ï¼Œåˆ™è¿”å›å¯¹è±¡ xï¼Œå¦‚æœå‡½æ•°æœ‰å¼•ç”¨ç±»å‹çš„è¿”å›å€¼ï¼Œåˆ™è¿”å›è¯¥å¼•ç”¨ç±»å‹</li></ol> <p>æ¨¡æ‹Ÿ new</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token keyword">class</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span><span class="token operator">...</span>val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
  o<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> fn<span class="token punctuation">.</span>prototype
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span>val<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'object'</span><span class="token operator">||</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'function'</span><span class="token operator">?</span>a<span class="token operator">:</span>o
<span class="token punctuation">}</span>
</code></pre></div><h2 id="this"><a href="#this" class="header-anchor">#</a> this</h2> <blockquote><p>ç²—æµ…å±‚
é»˜è®¤ç»‘å®š</p></blockquote> <p>éšå¼ç»‘å®š</p> <p>æ˜¾ç¤ºç»‘å®š</p> <p>new</p> <p>å›è°ƒå‡½æ•°</p> <blockquote><p>æ·±å…¥</p></blockquote> <ol><li>expression è¡¨è¾¾å¼ ã€ŠjavaScriptæƒå¨æŒ‡å—ã€‹</li></ol> <p>è°ƒç”¨è¡¨è¾¾å¼</p> <p>å¦‚æœè°ƒç”¨è¡¨è¾¾å¼ä¹‹å‰çš„è¡¨è¾¾å¼ï¼Œæ˜¯ä¸€ä¸ªå±æ€§è®¿é—®è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆä½œä¸ºå±æ€§è®¿é—®ä¸»é¢˜çš„å¯¹è±¡å’Œæ•°ç»„ä¾¿æ˜¯å…¶è°ƒç”¨æ–¹æ³•å†…thisçš„æŒ‡å‘</p> <ol start="2"><li>å¼•ç”¨æ³• é˜®ä¸€å³°è€å¸ˆ</li></ol> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener noreferrer">è¿ç®—ç¬¦é¡ºåº<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="apply-call-bind"><a href="#apply-call-bind" class="header-anchor">#</a> apply call bind</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">who1<span class="token punctuation">,</span>who2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>who1<span class="token operator">+</span><span class="token string">'fuck'</span><span class="token operator">+</span>who2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span><span class="token operator">...</span>val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  context<span class="token punctuation">.</span>foo2 <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>val<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'val['</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">']'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.foo2('</span><span class="token operator">+</span>arr<span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

foo<span class="token punctuation">.</span><span class="token function">call2</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'ccc'</span><span class="token punctuation">,</span><span class="token string">'ccc2'</span><span class="token punctuation">)</span>

<span class="token comment">// åŠ é—­åŒ…ï¼Œæ¨¡æ‹Ÿç”¨apply</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span><span class="token operator">...</span>val1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>val2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">...</span>val1<span class="token punctuation">,</span><span class="token operator">...</span>val2<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

b <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token function">bind2</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token string">'ccc'</span><span class="token punctuation">,</span><span class="token string">'ccc2'</span><span class="token punctuation">)</span>

<span class="token comment">// é€‚é… new</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">fNOP</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">fBound</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bindArgs <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">fNOP</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>bindArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    fNOP<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    fBound<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fNOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> fBound<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="call"><a href="#call" class="header-anchor">#</a> call</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  context<span class="token punctuation">.</span>_fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>index<span class="token punctuation">)</span> <span class="token keyword">return</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context._fn('</span><span class="token operator">+</span>arr<span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">)</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>_fn
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div><h3 id="apply"><a href="#apply" class="header-anchor">#</a> apply</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">||</span> window<span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'arr['</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.fn('</span> <span class="token operator">+</span> args <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="bind"><a href="#bind" class="header-anchor">#</a> bind</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span>  obj <span class="token operator">=</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'ccc'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token punctuation">,</span>tell</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> age <span class="token operator">+</span> tell
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é¢å¯¹å¯¹è±¡"><a href="#é¢å¯¹å¯¹è±¡" class="header-anchor">#</a> é¢å¯¹å¯¹è±¡</h2> <p>å°è£…
ç»§æ‰¿
å¤šæ€
è®¾è®¡æ¨¡å¼
http
è·¨åŸŸ</p> <h2 id="å°è£…ã€ç»§æ‰¿ã€å¤šæ€"><a href="#å°è£…ã€ç»§æ‰¿ã€å¤šæ€" class="header-anchor">#</a> å°è£…ã€ç»§æ‰¿ã€å¤šæ€</h2> <blockquote><p>é€ è½¦ï¼šå†™æ„é€ å‡½æ•°å•Šã€å†™å‡½æ•°å•Šã€å®šä¹‰å±æ€§å•Š</p></blockquote> <blockquote><p>å¼€è½¦ï¼šè°ƒç”¨å‡½æ•°ã€new Class()</p></blockquote> <h3 id="ä¸€ã€å°è£…"><a href="#ä¸€ã€å°è£…" class="header-anchor">#</a> ä¸€ã€å°è£…</h3> <blockquote><p>å°è£…ï¼š<code>1</code>.æŠŠå®¢è§‚äº‹ç‰©å°è£…æˆæŠ½è±¡çš„ç±» <code>2</code>.éšè—å±æ€§å’Œæ–¹æ³•çš„å®ç°ç»†èŠ‚ <code>3</code>.ä»…å¯¹å¤–å…¬å¼€æ¥å£ã€‚</p></blockquote> <h4 id="_1-js-ä¸­çš„-private"><a href="#_1-js-ä¸­çš„-private" class="header-anchor">#</a> 1. js ä¸­çš„ private</h4> <p>å› ä¸º javascript å‡½æ•°çº§ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼ˆåœ¨å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¤–ç•Œè®¿é—®ä¸åˆ°ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ç›´æ¥å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ç§æœ‰çš„ã€‚</p> <blockquote><p>ç”±äºå‡½æ•°ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼Œå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡å¤–éƒ¨è®¿é—®ä¸åˆ°ï¼Œæ˜¯ç§æœ‰çš„</p></blockquote> <h4 id="_2-js-ä¸­çš„-public"><a href="#_2-js-ä¸­çš„-public" class="header-anchor">#</a> 2. js ä¸­çš„ public</h4> <p>é€šè¿‡ new å…³é”®è¯å®ä¾‹åŒ–æ—¶ï¼Œthis å®šä¹‰çš„å±æ€§å’Œå˜é‡éƒ½ä¼šè¢«å¤åˆ¶ä¸€éï¼Œæ‰€ä»¥é€šè¿‡ this å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å°±æ˜¯å…¬æœ‰çš„ã€‚é€šè¿‡ prototype åˆ›å»ºçš„å±æ€§åœ¨ç±»çš„å®ä¾‹åŒ–ä¹‹åç±»çš„å®ä¾‹åŒ–å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è®¿é—®åˆ°çš„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å…¬æœ‰çš„ã€‚</p> <blockquote><p>æ„é€ å‡½æ•°é€šè¿‡<code>new</code>å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘äº†å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®šä¹‰çš„å±æ€§å’Œå‡½æ•°å°±æ˜¯å…±æœ‰çš„ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—®çš„</p></blockquote> <blockquote><p>é€šè¿‡ prototype åˆ›å»ºçš„å±æ€§å’Œå‡½æ•°ï¼Œæ„é€ å‡½æ•°é€šè¿‡<code>new</code>å®ä¾‹åŒ–åï¼ŒæŠŠ prototype å¯¹è±¡çš„åœ°å€èµ‹ç»™äº†å®ä¾‹åŒ–å¯¹è±¡çš„<code>__proto__</code>å¯¹è±¡ï¼ŒåŒæ ·ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®åˆ°</p></blockquote> <h4 id="_3-js-ä¸­çš„-protected"><a href="#_3-js-ä¸­çš„-protected" class="header-anchor">#</a> 3. js ä¸­çš„ protected</h4> <p>åœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ this å®šä¹‰çš„æ–¹æ³•è®¿é—®åˆ°ä¸€äº›ç±»çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™å°±å¯ä»¥åˆå§‹åŒ–å¯¹è±¡çš„ä¸€äº›å±æ€§äº†ã€‚</p> <blockquote><p>é€šè¿‡æ„é€ å‡½æ•°å†…éƒ¨ this åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ç§æœ‰å˜é‡ï¼Œå¤–éƒ¨åªæœ‰é€šè¿‡è°ƒç”¨è¿™ä¸ªå‡½æ•°æ‰èƒ½æ‹¿åˆ°è¿™ä¸ªå˜é‡ï¼Œå—ä¿æŠ¤çš„</p></blockquote> <h4 id="_4-new-çš„å®è´¨"><a href="#_4-new-çš„å®è´¨" class="header-anchor">#</a> 4. new çš„å®è´¨</h4> <p><strong>4 æ­¥</strong></p> <ol><li><p><code>new xxClass()</code>æ–°å»ºäº†ä¸€ä¸ªå¯¹è±¡</p></li> <li><p><code>obj.__proto__</code> åœ°å€æŒ‡å‘äº† <code>xxClass.prototype</code></p></li> <li><p><code>xxClass</code>æ„é€ å‡½æ•°çš„ this ç»‘å®šåˆ°æ–°å»ºçš„å¯¹è±¡</p></li> <li><p>é»˜è®¤è¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œå¦‚æœå‡½æ•°åˆè¿”å›å€¼;å¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹<code>string</code>,<code>boolean</code>,<code>number</code>,<code>null</code>,<code>undefined</code>,é‚£ä¹ˆå°±è¿”å›æ–°å¯¹è±¡;å¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œé‚£ä¹ˆå°±è¿”å›è¿™ä¸ªå¯¹è±¡ç±»å‹</p></li></ol> <h4 id="_5-ä¸‰ä¸ªç‰¹æ€§"><a href="#_5-ä¸‰ä¸ªç‰¹æ€§" class="header-anchor">#</a> 5. ä¸‰ä¸ªç‰¹æ€§</h4> <ol><li><p>æ„é€ å‡½æ•°<code>this</code></p></li> <li><p>æ„é€ å‡½æ•°<code>prototype</code></p></li> <li><p>æ„é€ å‡½æ•°<code>.</code></p></li></ol> <h3 id="äºŒã€ç»§æ‰¿"><a href="#äºŒã€ç»§æ‰¿" class="header-anchor">#</a> äºŒã€ç»§æ‰¿</h3> <p>é¦–å…ˆï¼Œç»§æ‰¿æœ‰å‡ ç§æ–¹å¼ï¼Œä¾‹å¦‚ï¼Œ1. åŸå‹ç»§æ‰¿ 2.å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ 3. ç»„åˆç»§æ‰¿ 4.å¯„ç”Ÿç»§æ‰¿ ã€‚ã€‚ã€‚</p> <p>åŸå‹ç»§æ‰¿æ¶‰åŠå‡½æ•° prototype åŸå‹é“¾çš„è¿™ä¸ªæ¦‚å¿µï¼Œå’Œ new çš„å®è´¨</p> <p>å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ é€šè¿‡å‡½æ•°å†…éƒ¨ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°</p> <p>ç»§æ‰¿å…¶å®å°±æ˜¯é€šè¿‡ æ„é€ å‡½æ•°<code>this</code>ï¼Œæ„é€ å‡½æ•°<code>prototype</code>ï¼Œæ„é€ å‡½æ•°<code>.</code> ,è¿™ä¸‰ç§ç‰¹æ€§æ¥å®ç°çš„</p> <blockquote><p>ç»§æ‰¿ï¼šä»ä¸€èˆ¬åˆ°ç‰¹æ®Šçš„è¿‡ç¨‹ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶è¿›è¡Œæ‹“å±•</p></blockquote> <p>å‡ ç§æ–¹å¼</p> <ol><li><a href="####%E7%B1%BB%E5%BC%8F(%E5%8E%9F%E5%9E%8B)%E7%BB%A7%E6%89%BF">ç±»å¼ç»§æ‰¿</a></li> <li><a href="####%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF">æ„é€ å‡½æ•°ç»§æ‰¿</a></li> <li><a href="####%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF">æ„é€ å‡½æ•°ç»§æ‰¿</a></li> <li><a href="####%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF">æ„é€ å‡½æ•°ç»§æ‰¿</a></li></ol> <h4 id="_1-ç±»å¼-åŸå‹-ç»§æ‰¿"><a href="#_1-ç±»å¼-åŸå‹-ç»§æ‰¿" class="header-anchor">#</a> 1. ç±»å¼(åŸå‹)ç»§æ‰¿</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Baba</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// å±æ€§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>babaName <span class="token operator">=</span> name
  <span class="token comment">// å°åŠ¨ä½œ</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">fangpi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'æˆ‘çˆ±æ”¾å±'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿</span>
<span class="token class-name">Baba</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>babaName
<span class="token punctuation">}</span>


<span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Erzi</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>erziName <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token comment">// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿</span>
<span class="token class-name">Erzi</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Baba</span><span class="token punctuation">(</span><span class="token string">'ccc'</span><span class="token punctuation">)</span>
<span class="token comment">// Erzi.prototype = new Baba()</span>


<span class="token comment">// å¼€è½¦</span>
<span class="token keyword">let</span> ni <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Erzi</span><span class="token punctuation">(</span><span class="token string">'cccçš„å„¿å­'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ni<span class="token punctuation">.</span>babaName<span class="token punctuation">)</span> <span class="token comment">// ccc</span>

ç‚¸äº†ï¼Œè€çˆ¸çš„åå­—æ€ä¹ˆæ€»æ˜¯ccc
</code></pre></div><p>ç‰¹ç‚¹ï¼š</p> <ul><li>é€šè¿‡æŠŠçˆ¶ç±»å®ä¾‹å­ç±»åŸå‹ <code>prototype</code> å¯¹è±¡</li></ul> <p>ç¼ºé™·ï¼š</p> <ul><li>å¦‚æœçˆ¶ç±»é€šè¿‡ this å®šä¹‰äº†ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡å°±ä¼šè¢«æ‰€æœ‰å­ç±»çš„å®ä¾‹æ‰€å…±æœ‰ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå®ä¾‹ä¸­æ›´æ”¹æ”¹å¼•ç”¨ç±»å‹å˜é‡åœ°å€æŒ‡å‘çš„å†…å®¹ï¼Œæ‰€æœ‰å®ä¾‹éƒ½ä¼šè¢«å½±å“</li> <li>çˆ¶ç±»çš„å®ä¾‹åŒ–æ“ä½œä¸å¤Ÿçµæ´»</li></ul> <h4 id="_2-æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#_2-æ„é€ å‡½æ•°ç»§æ‰¿" class="header-anchor">#</a> 2. æ„é€ å‡½æ•°ç»§æ‰¿</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Baba</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// å±æ€§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>babaName <span class="token operator">=</span> name
  <span class="token comment">// å°åŠ¨ä½œ</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">fangpi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'æˆ‘çˆ±æ”¾å±'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿</span>
<span class="token class-name">Baba</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>babaName
<span class="token punctuation">}</span>


<span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Erzi</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>babaName</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>erziName <span class="token operator">=</span> name
  <span class="token function">Baba</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>babaName<span class="token punctuation">)</span> <span class="token comment">// è¿™é‡Œçš„bindå’Œapplyå’Œcallä¹Ÿæ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹</span>
<span class="token punctuation">}</span>


<span class="token comment">// å¼€è½¦</span>
<span class="token keyword">let</span> ni <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Erzi</span><span class="token punctuation">(</span><span class="token string">'cccçš„å„¿å­'</span><span class="token punctuation">,</span><span class="token string">'ccc'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ni<span class="token punctuation">.</span>babaName<span class="token punctuation">)</span> <span class="token comment">// ccc</span>

ç‚¸äº†ï¼Œè€çˆ¸çš„åŸå‹å»å“ªé‡Œ

</code></pre></div><p>ç‰¹ç‚¹ï¼š</p> <ul><li>é€šè¿‡ callï¼Œapply å’Œ bindï¼Œæ¥æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ</li></ul> <p>ç¼ºç‚¹ï¼š</p> <ul><li>çˆ¶ç±»ä¸æ˜¯é€šè¿‡<code>new</code>å»è°ƒç”¨ï¼Œæ‰€ä»¥æ²¡ç»§æ‰¿åˆ°çˆ¶ç±»çš„åŸå‹<code>prototype</code></li> <li>æ¯æ¬¡ç”Ÿäº§ä¸€ä¸ªå­ç±»å®ä¾‹ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡çˆ¶ç±»å‡½æ•°ï¼Œæ¶ˆè€—å†…å­˜</li></ul> <table><thead><tr><th></th> <th>ç‰¹ç‚¹</th> <th>ä¼˜ç‚¹</th> <th>ç¼ºç‚¹</th></tr></thead> <tbody><tr><td>ç±»å¼ç»§æ‰¿</td> <td>çˆ¶ç±»å®ä¾‹åŒ–å­ç±»çš„åŸå‹ prototype å¯¹è±¡</td> <td>å­ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å¯ä»¥æ‹¿åˆ°çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡å’ŒåŸå‹</td> <td>å­ç±»ç›¸äº’å½±å“(å› ä¸ºçˆ¶ç±»åªå®ä¾‹åŒ–äº†ä¸€æ¬¡ )</td></tr> <tr><td>æ„é€ å‡½æ•°ç»§æ‰¿</td> <td>é€šè¿‡ callã€applyã€bind æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ</td> <td>å­ç±»ä¸ç›¸äº’å½±å“(å­ç±»å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œçˆ¶ç±»ä¹Ÿè°ƒç”¨äº† )</td> <td>1. æ¯æ¬¡ç”Ÿäº§ä¸€ä¸ªå­ç±»å®ä¾‹ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡çˆ¶ç±»å‡½æ•°ï¼Œæ¶ˆè€—å†…å­˜<br>2.æ²¡æœ‰ç»§æ‰¿åˆ°çˆ¶ç±»çš„åŸå‹ prototype</td></tr></tbody></table> <h3 id="ç»„åˆå¼ç»§æ‰¿"><a href="#ç»„åˆå¼ç»§æ‰¿" class="header-anchor">#</a> ç»„åˆå¼ç»§æ‰¿</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Baba</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å±æ€§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>babaName <span class="token operator">=</span> name
  <span class="token comment">// å°åŠ¨ä½œ</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">fangpi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'æˆ‘çˆ±æ”¾å±'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿</span>
<span class="token class-name">Baba</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>babaName
<span class="token punctuation">}</span>

<span class="token comment">// é€ è½¦</span>
<span class="token keyword">function</span> <span class="token function">Erzi</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> babaName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>erziName <span class="token operator">=</span> name
  <span class="token function">Baba</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> babaName<span class="token punctuation">)</span> <span class="token comment">// æ‹¿åˆ°thisèµ‹å€¼çš„å±æ€§</span>
<span class="token punctuation">}</span>

<span class="token class-name">Erzi</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Baba</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// æ‹¿åˆ°çˆ¶ç±»çš„åŸå‹prototype</span>
<span class="token comment">// å¼€è½¦</span>
<span class="token keyword">let</span> ni <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Erzi</span><span class="token punctuation">(</span><span class="token string">'cccçš„å„¿å­'</span><span class="token punctuation">,</span> <span class="token string">'ccc'</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>é‡ç‚¹ï¼Œå¯¹è±¡å±æ€§çš„è®¿é—®æ“ä½œï¼Œä¹Ÿå°±æ˜¯å·¦èµ‹å€¼</p></blockquote> <p>ç‰¹ç‚¹ï¼š</p> <ul><li>é€šè¿‡ callï¼Œapply å’Œ bindï¼Œæ¥æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ</li></ul> <h2 id="æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼›"><a href="#æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼›" class="header-anchor">#</a> æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼›</h2> <h2 id="httpåè®®-å‰ç«¯å®‰å…¨æœºåˆ¶"><a href="#httpåè®®-å‰ç«¯å®‰å…¨æœºåˆ¶" class="header-anchor">#</a> HTTPåè®® å‰ç«¯å®‰å…¨æœºåˆ¶</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">2020/5/30 ä¸‹åˆ2:06:25</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/pages/interview/plan/pen.html" class="prev">
        ç¬”è¯•é¢˜
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c2508881.js" defer></script><script src="/assets/js/2.cf1aef41.js" defer></script><script src="/assets/js/26.6c359997.js" defer></script>
  </body>
</html>
